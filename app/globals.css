@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

/* =========================
   VIVAAH GLOBALS (FIXED)
   - Minimal, defensive overrides only
   - Darker purple for CTAs (no component changes required)
   - Send button visible by default
   - Input alignment / safe padding fixes
   ========================= */

/* Tokens */
:root{
  --deep-plum: #3a0320;         /* darker, jewel purple (primary CTA) */
  --rich-burgundy: #6f1537;
  --pearl-white: #fffcf9;
  --cream-luxury: #fbf6f2;
  --blush-rose: #f7e6e8;
  --soft-blush: #fff8f9;

  --champagne-gold:#d89f85;
  --bright-gold:  #f0cdbf;
  --warm-gold:    #301934;

  --cream-bg: var(--cream-luxury);
  --text-maroon: var(--deep-plum);
  --gold-1: var(--champagne-gold);

  --input-height: 56px;
  --footer-safe: 20px;
  --input-button-gap: 3.8rem;
}

/* Base */
*,
*::before,
*::after{box-sizing:border-box}
html,body,#__next{height:100%}
body{
  margin:0;
  background: linear-gradient(160deg, var(--cream-luxury) 0%, var(--pearl-white) 48%, var(--soft-blush) 100%);
  color:var(--text-maroon);
  font-family:var(--font-inter), system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Header */
.chat-header{height:72px;display:flex;align-items:center;background:var(--cream-bg);border-bottom:1px solid rgba(184,110,83,0.12);padding:0 1rem;z-index:60}
.glass-header{backdrop-filter:blur(12px) saturate(140%);-webkit-backdrop-filter:blur(12px) saturate(140%);box-shadow:0 3px 18px rgba(75,22,51,0.04);z-index:60}

/* Chat card */
.chat-card{
  width:100%;max-width:56rem;margin:0 auto;
  background:linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.998));
  border-radius:14px;padding:1.25rem 1.5rem;border:1px solid rgba(216,160,130,0.07);
  box-shadow:0 12px 40px rgba(75,22,51,0.06);
}

/* Message bubbles */
.message-user-premium{
  background:linear-gradient(135deg, var(--deep-plum) 0%, var(--rich-burgundy) 100%);
  color:#fff;border-radius:22px 22px 6px 22px;padding:12px 16px;margin:8px 0;
  max-width:78%;align-self:flex-end;font-size:0.96rem;line-height:1.45;
}
.message-assistant-premium{
  background:linear-gradient(135deg, var(--pearl-white) 0%, var(--soft-blush) 100%);
  color:var(--text-maroon);border-radius:22px 22px 22px 6px;padding:14px 18px;margin:8px 0;
  max-width:86%;align-self:flex-start;font-size:0.96rem;line-height:1.6;
}
.message-assistant-premium.streaming{position:relative;overflow:hidden}
.message-assistant-premium.streaming::after{
  content:"";position:absolute;inset:0;
  background:linear-gradient(90deg, transparent 0%, rgba(240,205,191,0.22) 48%, transparent 100%);
  transform:translateX(-120%);animation:premium-shimmer 1.8s linear infinite;
}
@keyframes premium-shimmer{0%{transform:translateX(-120%)}60%{transform:translateX(120%)}100%{transform:translateX(120%)}}

/* Vendor card spacing (avoid overlap) */
.vendor-card-premium{
  background:linear-gradient(135deg, var(--pearl-white) 0%, #ffffff 100%);
  border-radius:16px;padding:18px;border:1px solid rgba(216,160,130,0.10);
  box-shadow:0 12px 36px rgba(75,22,51,0.06);position:relative;overflow:hidden;margin-bottom:1.25rem;
}
.vendor-card-premium::before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,var(--bright-gold),var(--champagne-gold))}

/* Input / pill / button layout: center + max width so it doesn't overlap */
.glass-footer{
  position:fixed;left:0;right:0;bottom:0;z-index:70;
  background:linear-gradient(0deg, rgba(255,252,247,0.985), rgba(255,252,247,0.96));
  border-top:1px solid rgba(216,160,130,0.08);box-shadow:0 -6px 30px rgba(75,22,51,0.03);
  padding-top:12px;padding-bottom:calc(var(--footer-safe) + 8px);
}
/* inner constrained container */
.glass-footer > .max-w-3xl, .glass-footer .max-w-3xl{max-width:56rem;margin:0 auto;padding:0 1rem;box-sizing:border-box}

/* Pill */
.input-pill,.input-premium{
  width:100%;max-width:880px;margin:0 auto;border-radius:999px;height:var(--input-height);
  display:flex;align-items:center;padding-left:1rem;padding-right:calc(var(--input-button-gap) + 1rem);
  background:var(--pearl-white);border:1px solid rgba(216,160,130,0.12);box-shadow:0 8px 26px rgba(75,22,51,0.04);
  position:relative;transition:box-shadow 180ms ease,transform 120ms ease;box-sizing:border-box;
}
.input-pill input,.input-premium input,.input-pill textarea,.input-premium textarea{
  width:100%;border:none!important;background:transparent!important;font-size:1rem;color:var(--text-maroon);padding:0.25rem 0;box-sizing:border-box;
}

/* Ensure the send/stop button sits correctly inside the pill */
.btn-premium,.button-icon{
  position:absolute;right:0.8rem;top:50%;transform:translateY(-50%);
  width:46px;height:46px;border-radius:999px;display:inline-flex;align-items:center;justify-content:center;
  color:#fff!important;border:none!important;z-index:80;
  box-shadow:0 10px 30px rgba(184,110,83,0.16), inset 0 1px 0 rgba(255,255,255,0.12);
  transition:transform 160ms ease,filter 160ms ease;
}
/* Default visible background for send button (applies even if .send modifier missing) */
.btn-premium{ background:linear-gradient(135deg, var(--bright-gold) 0%, var(--champagne-gold) 0%, var(--warm-gold) 100%); color:#fff!important; }
.btn-premium:hover{ transform:translateY(-50%) scale(1.03); }

/* Stream-stop variant (if used) */
.button-icon.stream-stop{ background:linear-gradient(180deg,#8c3131 0%,#6a2323 100%); box-shadow:0 10px 30px rgba(140,60,60,0.16); }

/* Placeholder */
::placeholder{ color: rgba(64,16,42,0.42) }

/* Buttons â€” outline (reviews) */
.btn-outline-premium{
  background:transparent;color:var(--deep-plum);border:2px solid var(--deep-plum);
  border-radius:24px;padding:10px 22px;font-weight:600;font-size:0.95rem;display:inline-flex;align-items:center;gap:8px;
  cursor:pointer;transition:all .22s ease-in-out;box-shadow:0 2px 6px rgba(74,12,35,0.06);
}
.btn-outline-premium:hover{ background:var(--deep-plum);border-color:var(--deep-plum);color:#fff;transform:translateY(-2px);box-shadow:0 8px 28px rgba(74,12,35,0.16) }

/* === PRIMARY FIX: More details CTA (DARK PURPLE) ===
   - This rule is intentionally specific and uses !important to override inline Tailwind bg classes
   - .more-details-btn should work even if component uses inline classes
*/
.more-details-btn,
.vendor-card-premium .more-details-btn,
.vendor-card-premium .btn-more-details,
.btn-premium.more-details,
.btn-premium.purple {
  background: linear-gradient(135deg, var(--deep-plum) 0%, var(--rich-burgundy) 85%) !important;
  color: #fff !important;
  border: none !important;
  padding: 10px 22px !important;
  font-weight:700 !important;
  border-radius:24px !important;
  box-shadow: 0 10px 36px rgba(58,3,32,0.22) !important;
  display:inline-flex !important;
  align-items:center !important;
  gap:8px !important;
  cursor:pointer !important;
  transition: all .22s ease !important;
}
.more-details-btn:hover,
.vendor-card-premium .more-details-btn:hover,
.btn-premium.more-details:hover,
.btn-premium.purple:hover {
  transform: translateY(-2px) !important;
  box-shadow: 0 14px 44px rgba(58,3,32,0.28) !important;
}

/* Safety: ensure messages container has bottom padding so content isn't hidden under footer
   Targets common selectors used in app layouts. If your app uses a different custom class for the scroll container,
   add it to the list below.
*/
.h-screen.overflow-y-auto,
.h-screen.overflow-auto,
.main-messages,
.messages-scroll {
  padding-bottom: calc(var(--input-height) + var(--footer-safe) + 40px) !important;
}

/* Vendor card helpers and other small utilities */
.metallic-gradient{ background: linear-gradient(180deg, rgba(255,255,255,0.22) 0%, var(--bright-gold) 12%, var(--champagne-gold) 0%, var(--warm-gold) 100%) }
.metallic-sheen{ position:relative; overflow:hidden }
.metallic-sheen::after{ content:""; position:absolute; inset:0; background:linear-gradient(120deg, transparent 18%, rgba(255,255,255,0.45) 35%, transparent 60%); opacity:0; transition:opacity .36s ease; pointer-events:none }
.metallic-sheen:hover::after{ opacity:1 }

.rating-premium{ display:inline-flex; gap:6px; align-items:center; padding:6px 10px; border-radius:16px; background:linear-gradient(135deg, var(--champagne-gold), var(--bright-gold)); color:#fff; font-weight:700; box-shadow:0 6px 20px rgba(184,110,83,0.14) }

.footer-premium, .footer-small{ max-width:56rem; margin:0 auto; text-align:center; color:var(--rich-burgundy); padding-top:10px; font-size:0.88rem; opacity:0.95 }

::-webkit-scrollbar{ width:10px; height:10px }
::-webkit-scrollbar-track{ background:transparent }
::-webkit-scrollbar-thumb{ background:linear-gradient(180deg,var(--bright-gold),var(--warm-gold)); border-radius:10px; border:2px solid rgba(255,255,255,0.6) }
::-webkit-scrollbar-thumb:hover{ background:linear-gradient(180deg,var(--champagne-gold),var(--bright-gold)) }

:focus-visible{ outline:3px solid rgba(216,160,130,0.18); outline-offset:2px; border-radius:6px }
::selection{ background:rgba(216,160,130,0.18); color:var(--deep-plum) }

@keyframes fadeInUp{ from{opacity:0; transform:translateY(12px)} to{opacity:1; transform:translateY(0)} }
.animate-fade-in-up{ animation: fadeInUp 0.34s cubic-bezier(.2,.9,.2,1) both }

@media (max-width:640px){
  :root{ --input-button-gap:3.2rem }
  .input-premium, .input-pill{ height:52px; padding-right:calc(var(--input-button-gap) + 0.5rem) }
  .btn-premium, .button-icon{ width:40px; height:40px; right:0.9rem }
  .chat-card{ padding:1rem; border-radius:12px }
  .footer-premium{ padding-top:8px; font-size:0.82rem }
}
